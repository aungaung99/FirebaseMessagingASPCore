!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(mt,yt){"use strict";try{!function(){var e,t=(e=mt)&&"object"==typeof e&&"default"in e?e:{default:e};function n(){return"object"==typeof indexedDB}class a extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i.prototype.create)}}class i{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var i,n=t[0]||{},t=`${this.service}/${e}`,e=(e=this.errors[e])?(i=n,e.replace(o,(e,t)=>{var n=i[t];return null!=n?String(n):`<${t}?>`})):"Error",e=`${this.serviceName}: ${e} (${t}).`;return new a(t,e,n)}}const o=/\{\$([^}]+)}/g;function r(e){return e&&e._delegate?e._delegate:e}class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}function c(n){return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function u(n,i,a){var o,e=new Promise(function(e,t){c(o=n[i].apply(n,a)).then(e,t)});return e.request=o,e}function p(e,n,t){t.forEach(function(t){Object.defineProperty(e.prototype,t,{get:function(){return this[n][t]},set:function(e){this[n][t]=e}})})}function d(t,n,i,e){e.forEach(function(e){e in i.prototype&&(t.prototype[e]=function(){return u(this[n],e,arguments)})})}function l(t,n,i,e){e.forEach(function(e){e in i.prototype&&(t.prototype[e]=function(){return this[n][e].apply(this[n],arguments)})})}function f(e,i,t,n){n.forEach(function(n){n in t.prototype&&(e.prototype[n]=function(){return e=this[i],(t=u(e,n,arguments)).then(function(e){if(e)return new h(e,t.request)});var e,t})})}function g(e){this._index=e}function h(e,t){this._cursor=e,this._request=t}function w(e){this._store=e}function m(n){this._tx=n,this.complete=new Promise(function(e,t){n.oncomplete=function(){e()},n.onerror=function(){t(n.error)},n.onabort=function(){t(n.error)}})}function y(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new m(n)}function b(e){this._db=e}function v(e,t,n){var t=u(indexedDB,"open",[e,t]),i=t.request;return i&&(i.onupgradeneeded=function(e){n&&n(new y(i.result,e.oldVersion,i.transaction))}),t.then(function(e){return new b(e)})}function k(e){return u(indexedDB,"deleteDatabase",[e])}p(g,"_index",["name","keyPath","multiEntry","unique"]),d(g,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),f(g,"_index",IDBIndex,["openCursor","openKeyCursor"]),p(h,"_cursor",["direction","key","primaryKey","value"]),d(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(h.prototype[n]=function(){var t=this,e=arguments;return Promise.resolve().then(function(){return t._cursor[n].apply(t._cursor,e),c(t._request).then(function(e){if(e)return new h(e,t._request)})})})}),w.prototype.createIndex=function(){return new g(this._store.createIndex.apply(this._store,arguments))},w.prototype.index=function(){return new g(this._store.index.apply(this._store,arguments))},p(w,"_store",["name","keyPath","indexNames","autoIncrement"]),d(w,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),f(w,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(w,"_store",IDBObjectStore,["deleteIndex"]),m.prototype.objectStore=function(){return new w(this._tx.objectStore.apply(this._tx,arguments))},p(m,"_tx",["objectStoreNames","mode"]),l(m,"_tx",IDBTransaction,["abort"]),y.prototype.createObjectStore=function(){return new w(this._db.createObjectStore.apply(this._db,arguments))},p(y,"_db",["name","version","objectStoreNames"]),l(y,"_db",IDBDatabase,["deleteObjectStore","close"]),b.prototype.transaction=function(){return new m(this._db.transaction.apply(this._db,arguments))},p(b,"_db",["name","version","objectStoreNames"]),l(b,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(a){[w,g].forEach(function(e){a in e.prototype&&(e.prototype[a.replace("open","iterate")]=function(){var e=Array.prototype.slice.call(arguments),t=e[e.length-1],n=this._store||this._index,i=n[a].apply(n,e.slice(0,-1));i.onsuccess=function(){t(i.result)}})})}),[g,w].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,n){var i=this,a=[];return new Promise(function(t){i.iterateCursor(e,function(e){e?(a.push(e.value),void 0===n||a.length!=n?e.continue():t(a)):t(a)})})})});var I,S,T,_="@firebase/installations",C="0.5.5";const j=1e4,O=`w:${C}`,D="FIS_v2",P="https://firebaseinstallations.googleapis.com/v1",A=36e5,M=new i("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function E(e){return e instanceof a&&e.code.includes("request-failed")}function K({projectId:e}){return`${P}/projects/${e}/installations`}function N(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function x(e,t){t=(await t.json()).error;return M.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function $({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function F(e){var t=await e();return 500<=t.status&&t.status<600?e():t}function B(t){return new Promise(e=>{setTimeout(e,t)})}const q=/^[cdef][\w-]{21}$/,L="";function V(e){return`${e.appName}!${e.appId}`}const R=new Map;function H(e,t){e=V(e);W(e,t),function(e,t){const n=(!U&&"BroadcastChannel"in self&&(U=new BroadcastChannel("[Firebase] FID Change"),U.onmessage=e=>{W(e.data.key,e.data.fid)}),U);n&&n.postMessage({key:e,fid:t}),0===R.size&&U&&(U.close(),U=null)}(e,t)}function W(e,t){e=R.get(e);if(e)for(const n of e)n(t)}let U=null;const G="firebase-installations-store";let J=null;function z(){return J=J||v("firebase-installations-database",1,e=>{0===e.oldVersion&&e.createObjectStore(G)}),J}async function Y(e,t){var n=V(e);const i=await z(),a=i.transaction(G,"readwrite"),o=a.objectStore(G);var r=await o.get(n);return await o.put(t,n),await a.complete,r&&r.fid===t.fid||H(e,t.fid),t}async function Q(e){e=V(e);const t=await z(),n=t.transaction(G,"readwrite");await n.objectStore(G).delete(e),await n.complete}async function Z(e,t){var n=V(e);const i=await z(),a=i.transaction(G,"readwrite"),o=a.objectStore(G);var r=await o.get(n),t=t(r);return void 0===t?await o.delete(n):await o.put(t,n),await a.complete,!t||r&&r.fid===t.fid||H(e,t.fid),t}async function X(t){let n;var e=await Z(t,e=>{e=te(e||{fid:function(){try{const t=new Uint8Array(17),n=self.crypto||self.msCrypto;n.getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){const e=function(){const e=btoa(String.fromCharCode(...t));return e.replace(/\+/g,"-").replace(/\//g,"_")}();return e.substr(0,22)}(t);return q.test(e)?e:L}catch(e){return L}}(),registrationStatus:0}),e=function(e,t){if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:async function(e){let t=await ee(e);for(;1===t.registrationStatus;)await B(100),t=await ee(e);if(0!==t.registrationStatus)return t;var{installationEntry:n,registrationPromise:i}=await X(e);return i||n}(e)}:{installationEntry:t};if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(M.create("app-offline"))};t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:async function(t,n){try{return Y(t,await async function(e,{fid:t}){const n=K(e);var i=$(e),e={fid:t,authVersion:D,appId:e.appId,sdkVersion:O};const a={method:"POST",headers:i,body:JSON.stringify(e)},o=await F(()=>fetch(n,a));if(o.ok)return{fid:(e=await o.json()).fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:N(e.authToken)};throw await x("Create Installation",o)}(t,n))}catch(e){throw E(e)&&409===e.customData.serverCode?await Q(t):await Y(t,{fid:n.fid,registrationStatus:0}),e}}(e,t)}}(t,e);return n=e.registrationPromise,e.installationEntry});return e.fid===L?{installationEntry:await n}:{installationEntry:e,registrationPromise:n}}function ee(e){return Z(e,e=>{if(!e)throw M.create("installation-not-found");return te(e)})}function te(e){return 1===e.registrationStatus&&e.registrationTime+j<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function ne({appConfig:e,platformLoggerProvider:t},n){const i=([a,o]=[e,n.fid],`${K(a)}/${o}/authTokens:generate`);var a,o;const r=function(e,{refreshToken:t}){const n=$(e);return n.append("Authorization",`${D} ${t}`),n}(e,n),s=t.getImmediate({optional:!0});s&&r.append("x-firebase-client",s.getPlatformInfoString());t={installation:{sdkVersion:O}};const c={method:"POST",headers:r,body:JSON.stringify(t)},u=await F(()=>fetch(i,c));if(u.ok)return N(await u.json());throw await x("Generate Auth Token",u)}async function ie(o,r=!1){let s;var e=await Z(o.appConfig,e=>{if(!oe(e))throw M.create("not-registered");var t,n,i,a=e.authToken;if(r||2!==(t=a).requestStatus||(n=t,(i=Date.now())<n.creationTime||n.creationTime+n.expiresIn<i+A)){if(1===a.requestStatus)return s=async function(e,t){let n=await ae(e.appConfig);for(;1===n.authToken.requestStatus;)await B(100),n=await ae(e.appConfig);var i=n.authToken;return 0===i.requestStatus?ie(e,t):i}(o,r),e;if(!navigator.onLine)throw M.create("app-offline");return t=e,a={requestStatus:1,requestTime:Date.now()},a=Object.assign(Object.assign({},t),{authToken:a}),s=async function(e,t){try{var n=await ne(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Y(e.appConfig,i),n}catch(i){throw!E(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode?(n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}),await Y(e.appConfig,n)):await Q(e.appConfig),i}}(o,a),a}return e});return s?await s:e.authToken}function ae(e){return Z(e,e=>{if(!oe(e))throw M.create("not-registered");var t=e.authToken;return 1===t.requestStatus&&t.requestTime+j<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function oe(e){return void 0!==e&&2===e.registrationStatus}function re(e){return M.create("missing-app-config-values",{valueName:e})}const se="installations";yt._registerComponent(new s(se,e=>{e=e.getProvider("app").getImmediate();return{app:e,appConfig:function(e){if(!e||!e.options)throw re("App Configuration");if(!e.name)throw re("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw re(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(e),platformLoggerProvider:yt._getProvider(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),yt._registerComponent(new s("installations-internal",e=>{e=e.getProvider("app").getImmediate();const t=yt._getProvider(e,se).getImmediate();return{getId:()=>async function(e){const{installationEntry:t,registrationPromise:n}=await X(e.appConfig);return(n||ie(e)).catch(console.error),t.fid}(t),getToken:e=>async function(e,t=!1){var n=e;return await((e=(await X(e=n.appConfig)).registrationPromise)&&await e),(await ie(n,t)).token}(t,e)}},"PRIVATE")),yt.registerVersion(_,C),yt.registerVersion(_,C,"esm2017");const ce="/firebase-messaging-sw.js",ue="/firebase-cloud-messaging-push-scope",pe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",de="https://fcmregistrations.googleapis.com/v1",le="google.c.a.c_id",fe="google.c.a.e";function ge(e){e=new Uint8Array(e);const t=btoa(String.fromCharCode(...e));return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(C=wt=wt||{})[C.DATA_MESSAGE=1]="DATA_MESSAGE",C[C.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",(wt=I=I||{}).PUSH_RECEIVED="push-received",wt.NOTIFICATION_CLICKED="notification-clicked";const he="fcm_token_details_db",we="fcm_token_object_Store";const me="firebase-messaging-database",ye=1,be="firebase-messaging-store";let ve=null;function ke(){return ve=ve||v(me,ye,e=>{0===e.oldVersion&&e.createObjectStore(be)}),ve}async function Ie(e){var t=Te(e);const n=await ke();return(t=await n.transaction(be).objectStore(be).get(t))?t:(t=await async function(o){if("databases"in indexedDB){const t=await indexedDB.databases(),n=t.map(e=>e.name);if(!n.includes(he))return null}let r=null;const e=await v(he,5,async e=>{var t;if(!(e.oldVersion<2)&&e.objectStoreNames.contains(we)){const a=e.transaction.objectStore(we);var n,i=await a.index("fcmSenderId").get(o);await a.clear(),i&&(2===e.oldVersion?(n=i).auth&&n.p256dh&&n.endpoint&&(r={token:n.fcmToken,createTime:null!==(t=n.createTime)&&void 0!==t?t:Date.now(),subscriptionOptions:{auth:n.auth,p256dh:n.p256dh,endpoint:n.endpoint,swScope:n.swScope,vapidKey:"string"==typeof n.vapidKey?n.vapidKey:ge(n.vapidKey)}}):3===e.oldVersion?(n=i,r={token:n.fcmToken,createTime:n.createTime,subscriptionOptions:{auth:ge(n.auth),p256dh:ge(n.p256dh),endpoint:n.endpoint,swScope:n.swScope,vapidKey:ge(n.vapidKey)}}):4===e.oldVersion&&(r={token:i.fcmToken,createTime:i.createTime,subscriptionOptions:{auth:ge(i.auth),p256dh:ge(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:ge(i.vapidKey)}}))}});return e.close(),await k(he),await k("fcm_vapid_details_db"),await k("undefined"),function(e){if(e&&e.subscriptionOptions){var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}}(r)?r:null}(e.appConfig.senderId))?(await Se(e,t),t):void 0}async function Se(e,t){e=Te(e);const n=await ke(),i=n.transaction(be,"readwrite");return await i.objectStore(be).put(t,e),await i.complete,t}function Te({appConfig:e}){return e.appId}const _e=new i("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Ce(e,t){var n={method:"DELETE",headers:await Oe(e)};try{const o=await fetch(`${je(e.appConfig)}/${t}`,n);var i=await o.json();if(i.error){var a=i.error.message;throw _e.create("token-unsubscribe-failed",{errorInfo:a})}}catch(e){throw _e.create("token-unsubscribe-failed",{errorInfo:e})}}function je({projectId:e}){return`${de}/projects/${e}/registrations`}async function Oe({appConfig:e,installations:t}){t=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function De({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const a={web:{endpoint:n,auth:t,p256dh:e}};return i!==pe&&(a.web.applicationPubKey=i),a}const Pe=6048e5;async function Ae(e){var t=await Ie(e.firebaseDependencies);t&&(await Ce(e.firebaseDependencies,t.token),await async function(e){e=Te(e);const t=await ke(),n=t.transaction(be,"readwrite");await n.objectStore(be).delete(e),await n.complete}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function Me(e,t){t={token:await async function(e,t){var n=await Oe(e),t=De(t),t={method:"POST",headers:n,body:JSON.stringify(t)};let i;try{const a=await fetch(je(e.appConfig),t);i=await a.json()}catch(e){throw _e.create("token-subscribe-failed",{errorInfo:e})}if(i.error)throw t=i.error.message,_e.create("token-subscribe-failed",{errorInfo:t});if(!i.token)throw _e.create("token-subscribe-no-token");return i.token}(e,t),createTime:Date.now(),subscriptionOptions:t};return await Se(e,t),t.token}function Ee(e){var t,n,i={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId},a=i;return(t=e).notification&&(a.notification={},(n=t.notification.title)&&(a.notification.title=n),(n=t.notification.body)&&(a.notification.body=n),(n=t.notification.image)&&(a.notification.image=n)),t=i,(a=e).data&&(t.data=a.data),a=i,e.fcmOptions&&(a.fcmOptions={},(n=e.fcmOptions.link)&&(a.fcmOptions.link=n),(n=e.fcmOptions.analytics_label)&&(a.fcmOptions.analyticsLabel=n)),i}function Ke(t,n){const i=[];for(let e=0;e<t.length;e++)i.push(t.charAt(e)),e<n.length&&i.push(n.charAt(e));return i.join("")}function Ne(e){return _e.create("missing-app-config-values",{valueName:e})}Ke("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ke("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xe{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Ne("App Configuration Object");if(!e.name)throw Ne("App Name");var t=e.options;for(const n of["projectId","apiKey","appId","messagingSenderId"])if(!t[n])throw Ne(n);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function $e(e){try{e.swRegistration=await navigator.serviceWorker.register(ce,{scope:ue}),e.swRegistration.update().catch(()=>{})}catch(e){throw _e.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}async function Fe(e,t){if(!navigator)throw _e.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw _e.create("permission-blocked");var n,i=e;return await((n=null==t?void 0:t.vapidKey)?i.vapidKey=n:i.vapidKey||(i.vapidKey=pe)),await async function(e,t){if(t||e.swRegistration||await $e(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw _e.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),async function(e){const t=(o=e.swRegistration,i=e.vapidKey,await(await o.pushManager.getSubscription()||o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(){var e=(i+"=".repeat((4-i.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}()})));var i,n,a,o,r,s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ge(t.getKey("auth")),p256dh:ge(t.getKey("p256dh"))},c=await Ie(e.firebaseDependencies);if(c){if(r=c.subscriptionOptions,n=s.vapidKey===r.vapidKey,a=s.endpoint===r.endpoint,o=s.auth===r.auth,r=s.p256dh===r.p256dh,n&&a&&o&&r)return Date.now()>=c.createTime+Pe?async function(e,t){try{var n=await async function(e,t){var n=await Oe(e),i=De(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(i)};let a;try{const o=await fetch(`${je(e.appConfig)}/${t.token}`,i);a=await o.json()}catch(e){throw _e.create("token-update-failed",{errorInfo:e})}if(a.error)throw i=a.error.message,_e.create("token-update-failed",{errorInfo:i});if(!a.token)throw _e.create("token-update-no-token");return a.token}(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Se(e.firebaseDependencies,i),n}catch(t){throw await Ae(e),t}}(e,{token:c.token,createTime:Date.now(),subscriptionOptions:s}):c.token;try{await Ce(e.firebaseDependencies,c.token)}catch(e){console.warn(e)}return Me(e.firebaseDependencies,s)}return Me(e.firebaseDependencies,s)}(e)}async function Be(e,t){var n,i=t.data;i.isFirebaseMessaging&&(e.onMessageHandler&&i.messageType===I.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Ee(i)):e.onMessageHandler.next(Ee(i))),"object"==typeof(t=n=i.data)&&t&&le in t&&"1"===n[fe]&&await async function(e,t,n){var i=function(){switch(t){case I.NOTIFICATION_CLICKED:return"notification_open";case I.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}();const a=await e.firebaseDependencies.analyticsProvider.get();a.logEvent(i,{message_id:n[le],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}(e,i.messageType,n))}C="@firebase/messaging";yt._registerComponent(new s("messaging",e=>{const t=new xe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Be(t,e)),t},"PUBLIC")),yt._registerComponent(new s("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Fe(t,e)}},"PRIVATE")),yt.registerVersion(C,"0.9.8"),yt.registerVersion(C,"0.9.8","esm2017");const qe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Le="https://fcmregistrations.googleapis.com/v1",Ve="FCM_MSG",Re="google.c.a.c_id",He=3,We=1;function Ue(e){e=new Uint8Array(e);const t=btoa(String.fromCharCode(...e));return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(wt=S=S||{})[wt.DATA_MESSAGE=1]="DATA_MESSAGE",wt[wt.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",(wt=T=T||{}).PUSH_RECEIVED="push-received",wt.NOTIFICATION_CLICKED="notification-clicked";const Ge="fcm_token_details_db",Je="fcm_token_object_Store";const ze="firebase-messaging-database",Ye=1,Qe="firebase-messaging-store";let Ze=null;function Xe(){return Ze=Ze||v(ze,Ye,e=>{0===e.oldVersion&&e.createObjectStore(Qe)}),Ze}async function et(e){var t=nt(e);const n=await Xe();return(t=await n.transaction(Qe).objectStore(Qe).get(t))?t:(t=await async function(o){if("databases"in indexedDB){const t=await indexedDB.databases(),n=t.map(e=>e.name);if(!n.includes(Ge))return null}let r=null;const e=await v(Ge,5,async e=>{var t;if(!(e.oldVersion<2)&&e.objectStoreNames.contains(Je)){const a=e.transaction.objectStore(Je);var n,i=await a.index("fcmSenderId").get(o);await a.clear(),i&&(2===e.oldVersion?(n=i).auth&&n.p256dh&&n.endpoint&&(r={token:n.fcmToken,createTime:null!==(t=n.createTime)&&void 0!==t?t:Date.now(),subscriptionOptions:{auth:n.auth,p256dh:n.p256dh,endpoint:n.endpoint,swScope:n.swScope,vapidKey:"string"==typeof n.vapidKey?n.vapidKey:Ue(n.vapidKey)}}):3===e.oldVersion?(n=i,r={token:n.fcmToken,createTime:n.createTime,subscriptionOptions:{auth:Ue(n.auth),p256dh:Ue(n.p256dh),endpoint:n.endpoint,swScope:n.swScope,vapidKey:Ue(n.vapidKey)}}):4===e.oldVersion&&(r={token:i.fcmToken,createTime:i.createTime,subscriptionOptions:{auth:Ue(i.auth),p256dh:Ue(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:Ue(i.vapidKey)}}))}});return e.close(),await k(Ge),await k("fcm_vapid_details_db"),await k("undefined"),function(e){if(e&&e.subscriptionOptions){var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}}(r)?r:null}(e.appConfig.senderId))?(await tt(e,t),t):void 0}async function tt(e,t){e=nt(e);const n=await Xe(),i=n.transaction(Qe,"readwrite");return await i.objectStore(Qe).put(t,e),await i.complete,t}function nt({appConfig:e}){return e.appId}const it=new i("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function at(e,t){var n={method:"DELETE",headers:await rt(e)};try{const o=await fetch(`${ot(e.appConfig)}/${t}`,n);var i=await o.json();if(i.error){var a=i.error.message;throw it.create("token-unsubscribe-failed",{errorInfo:a})}}catch(e){throw it.create("token-unsubscribe-failed",{errorInfo:e})}}function ot({projectId:e}){return`${Le}/projects/${e}/registrations`}async function rt({appConfig:e,installations:t}){t=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function st({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const a={web:{endpoint:n,auth:t,p256dh:e}};return i!==qe&&(a.web.applicationPubKey=i),a}async function ct(e){var t=await et(e.firebaseDependencies);t&&(await at(e.firebaseDependencies,t.token),await async function(e){e=nt(e);const t=await Xe(),n=t.transaction(Qe,"readwrite");await n.objectStore(Qe).delete(e),await n.complete}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function ut(e,t){t={token:await async function(e,t){var n=await rt(e),t=st(t),t={method:"POST",headers:n,body:JSON.stringify(t)};let i;try{const a=await fetch(ot(e.appConfig),t);i=await a.json()}catch(e){throw it.create("token-subscribe-failed",{errorInfo:e})}if(i.error)throw t=i.error.message,it.create("token-subscribe-failed",{errorInfo:t});if(!i.token)throw it.create("token-subscribe-no-token");return i.token}(e,t),createTime:Date.now(),subscriptionOptions:t};return await tt(e,t),t.token}async function pt(e,t){t=function(e,t){const n={};return e.from&&(n.project_number=e.from),e.fcmMessageId&&(n.message_id=e.fcmMessageId),n.instance_id=t,e.notification?n.message_type=S.DISPLAY_NOTIFICATION.toString():n.message_type=S.DATA_MESSAGE.toString(),n.sdk_platform=He.toString(),n.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(n.collapse_key=e.collapse_key),n.event=We.toString(),null!==(t=e.fcmOptions)&&void 0!==t&&t.analytics_label&&(n.analytics_label=null===(t=e.fcmOptions)||void 0===t?void 0:t.analytics_label),n}(t,await e.firebaseDependencies.installations.getId());!function(e,t){const n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}(e,t)}function dt(t,n){const i=[];for(let e=0;e<t.length;e++)i.push(t.charAt(e)),e<n.length&&i.push(n.charAt(e));return i.join("")}function lt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ft(e){return it.create("missing-app-config-values",{valueName:e})}dt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gt{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw ft("App Configuration Object");if(!e.name)throw ft("App Name");var t=e.options;for(const n of["projectId","apiKey","appId","messagingSenderId"])if(!t[n])throw ft(n);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}yt._registerComponent(new s("messaging-sw",e=>{const t=new gt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",e=>{e.waitUntil(async function(e,t){var n,i,a=function({data:e}){if(!e)return null;try{return e.json()}catch(e){return null}}(e);if(a){t.deliveryMetricsExportedToBigQueryEnabled&&await pt(t,a);var o,r,s=await lt();if(s.some(e=>"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")))return function(e,t){t.isFirebaseMessaging=!0,t.messageType=T.PUSH_RECEIVED;for(const n of e)n.postMessage(t)}(s,a);a.notification&&(o=function(e){const t=Object.assign({},e.notification);return t.data={[Ve]:e},t}(a),n=o.actions,i=Notification.maxActions,n&&i&&n.length>i&&console.warn(`This browser only supports ${i} actions. The remaining actions will not be displayed.`),await self.registration.showNotification(null!==(i=o.title)&&void 0!==i?i:"",o)),t&&t.onBackgroundMessageHandler&&(a=s={from:(o=a).from,collapseKey:o.collapse_key,messageId:o.fcmMessageId},(e=o).notification&&(a.notification={},(r=e.notification.title)&&(a.notification.title=r),(r=e.notification.body)&&(a.notification.body=r),(r=e.notification.image)&&(a.notification.image=r)),e=s,(a=o).data&&(e.data=a.data),a=s,o.fcmOptions&&(a.fcmOptions={},(r=o.fcmOptions.link)&&(a.fcmOptions.link=r),(r=o.fcmOptions.analytics_label)&&(a.fcmOptions.analyticsLabel=r)),"function"==typeof t.onBackgroundMessageHandler?t.onBackgroundMessageHandler(s):t.onBackgroundMessageHandler.next(s))}}(e,t))}),self.addEventListener("pushsubscriptionchange",e=>{e.waitUntil(async function(e,t){(e=e.newSubscription)?(e=await et(t.firebaseDependencies),await ct(t),t.vapidKey=null!==(e=null===(e=null==e?void 0:e.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:qe,await async function(e){const t=(o=e.swRegistration,i=e.vapidKey,await(await o.pushManager.getSubscription()||o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(){var e=(i+"=".repeat((4-i.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}()})));var i,n,a,o,r,s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ue(t.getKey("auth")),p256dh:Ue(t.getKey("p256dh"))},c=await et(e.firebaseDependencies);if(c){if(r=c.subscriptionOptions,n=s.vapidKey===r.vapidKey,a=s.endpoint===r.endpoint,o=s.auth===r.auth,r=s.p256dh===r.p256dh,n&&a&&o&&r)return Date.now()>=c.createTime+6048e5?async function(e,t){try{var n=await async function(e,t){var n=await rt(e),i=st(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(i)};let a;try{const o=await fetch(`${ot(e.appConfig)}/${t.token}`,i);a=await o.json()}catch(e){throw it.create("token-update-failed",{errorInfo:e})}if(a.error)throw i=a.error.message,it.create("token-update-failed",{errorInfo:i});if(!a.token)throw it.create("token-update-no-token");return a.token}(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await tt(e.firebaseDependencies,i),n}catch(t){throw await ct(e),t}}(e,{token:c.token,createTime:Date.now(),subscriptionOptions:s}):c.token;try{await at(e.firebaseDependencies,c.token)}catch(e){console.warn(e)}return ut(e.firebaseDependencies,s)}return ut(e.firebaseDependencies,s)}(t)):await ct(t)}(e,t))}),self.addEventListener("notificationclick",e=>{e.waitUntil(async function(e){const t=null===(i=null===(n=e.notification)||void 0===n?void 0:n.data)||void 0===i?void 0:i[Ve];if(t&&!e.action){e.stopImmediatePropagation(),e.notification.close();a=(a=t,(o=null!==(e=null===(e=a.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==e?e:null===(o=a.notification)||void 0===o?void 0:o.click_action)||("object"==typeof(a=a.data)&&a&&Re in a?self.location.origin:null));if(a){var n=new URL(a,self.location.href),i=new URL(self.location.origin);if(n.host===i.host){let e=await async function(e){for(const n of await lt()){var t=new URL(n.url,self.location.href);if(e.host===t.host)return n}return null}(n);if(e?e=await e.focus():(e=await self.clients.openWindow(a),await new Promise(e=>{setTimeout(e,3e3)})),e)return t.messageType=T.NOTIFICATION_CLICKED,t.isFirebaseMessaging=!0,e.postMessage(t)}}}var a,o}(e))}),t},"PUBLIC"));class ht{constructor(e,t){this.app=e,this._delegate=t,this.app=e,this._delegate=t}async getToken(t){return async function(e){return Fe(r(e),t)}(this._delegate)}async deleteToken(){return async function(e){if(!navigator)throw _e.create("only-available-in-window");return e.swRegistration||await $e(e),Ae(e)}(r(this._delegate))}onMessage(e){return function(e,t){if(!navigator)throw _e.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(r(this._delegate),e)}onBackgroundMessage(e){return function(e,t){if(void 0!==self.document)throw it.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,()=>{e.onBackgroundMessageHandler=null}}(r(this._delegate),e)}}var wt={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?n()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!=typeof window&&n()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};t.default.INTERNAL.registerComponent(new s("messaging-compat",e=>self&&"ServiceWorkerGlobalScope"in self?new ht(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new ht(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate()),"PUBLIC").setServiceProps(wt)),t.default.registerVersion("@firebase/messaging-compat","0.1.8")}.apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-messaging-compat.js - be sure to load firebase-app.js first.")}});