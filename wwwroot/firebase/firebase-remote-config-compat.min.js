!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(Le,Pe){"use strict";try{!function(){var u,e,t=(e=Le)&&"object"==typeof e&&"default"in e?e:{default:e};function l(){return"object"==typeof indexedDB}class o extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i.prototype.create)}}class i{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var i,r=t[0]||{},t=`${this.service}/${e}`,e=(e=this.errors[e])?(i=r,e.replace(s,(e,t)=>{var r=i[t];return null!=r?String(r):`<${t}?>`})):"Error",e=`${this.serviceName}: ${e} (${t}).`;return new o(t,e,r)}}const s=/\{\$([^}]+)}/g;function n(e){return e&&e._delegate?e._delegate:e}class r{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}(L=u={})[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT";const a={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},c=u.INFO,g={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},h=(e,t,...r)=>{if(!(t<e.logLevel)){var i=(new Date).toISOString(),s=g[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${i}]  ${e.name}:`,...r)}};class f{constructor(e){this.name=e,this._logLevel=c,this._logHandler=h,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in u))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...e),this._logHandler(this,u.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...e),this._logHandler(this,u.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,u.INFO,...e),this._logHandler(this,u.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,u.WARN,...e),this._logHandler(this,u.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...e),this._logHandler(this,u.ERROR,...e)}}function d(r){return new Promise(function(e,t){r.onsuccess=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function p(r,i,s){var n,e=new Promise(function(e,t){d(n=r[i].apply(r,s)).then(e,t)});return e.request=n,e}function m(e,r,t){t.forEach(function(t){Object.defineProperty(e.prototype,t,{get:function(){return this[r][t]},set:function(e){this[r][t]=e}})})}function w(t,r,i,e){e.forEach(function(e){e in i.prototype&&(t.prototype[e]=function(){return p(this[r],e,arguments)})})}function _(t,r,i,e){e.forEach(function(e){e in i.prototype&&(t.prototype[e]=function(){return this[r][e].apply(this[r],arguments)})})}function v(e,i,t,r){r.forEach(function(r){r in t.prototype&&(e.prototype[r]=function(){return e=this[i],(t=p(e,r,arguments)).then(function(e){if(e)return new b(e,t.request)});var e,t})})}function y(e){this._index=e}function b(e,t){this._cursor=e,this._request=t}function S(e){this._store=e}function C(r){this._tx=r,this.complete=new Promise(function(e,t){r.oncomplete=function(){e()},r.onerror=function(){t(r.error)},r.onabort=function(){t(r.error)}})}function E(e,t,r){this._db=e,this.oldVersion=t,this.transaction=new C(r)}function I(e){this._db=e}m(y,"_index",["name","keyPath","multiEntry","unique"]),w(y,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),v(y,"_index",IDBIndex,["openCursor","openKeyCursor"]),m(b,"_cursor",["direction","key","primaryKey","value"]),w(b,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(r){r in IDBCursor.prototype&&(b.prototype[r]=function(){var t=this,e=arguments;return Promise.resolve().then(function(){return t._cursor[r].apply(t._cursor,e),d(t._request).then(function(e){if(e)return new b(e,t._request)})})})}),S.prototype.createIndex=function(){return new y(this._store.createIndex.apply(this._store,arguments))},S.prototype.index=function(){return new y(this._store.index.apply(this._store,arguments))},m(S,"_store",["name","keyPath","indexNames","autoIncrement"]),w(S,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),v(S,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),_(S,"_store",IDBObjectStore,["deleteIndex"]),C.prototype.objectStore=function(){return new S(this._tx.objectStore.apply(this._tx,arguments))},m(C,"_tx",["objectStoreNames","mode"]),_(C,"_tx",IDBTransaction,["abort"]),E.prototype.createObjectStore=function(){return new S(this._db.createObjectStore.apply(this._db,arguments))},m(E,"_db",["name","version","objectStoreNames"]),_(E,"_db",IDBDatabase,["deleteObjectStore","close"]),I.prototype.transaction=function(){return new C(this._db.transaction.apply(this._db,arguments))},m(I,"_db",["name","version","objectStoreNames"]),_(I,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(s){[S,y].forEach(function(e){s in e.prototype&&(e.prototype[s.replace("open","iterate")]=function(){var e=Array.prototype.slice.call(arguments),t=e[e.length-1],r=this._store||this._index,i=r[s].apply(r,e.slice(0,-1));i.onsuccess=function(){t(i.result)}})})}),[y,S].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,r){var i=this,s=[];return new Promise(function(t){i.iterateCursor(e,function(e){e?(s.push(e.value),void 0===r||s.length!=r?e.continue():t(s)):t(s)})})})});var T="@firebase/installations",L="0.5.5";const P=1e4,M=`w:${L}`,F="FIS_v2",O="https://firebaseinstallations.googleapis.com/v1",k=36e5,j=new i("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function D(e){return e instanceof o&&e.code.includes("request-failed")}function N({projectId:e}){return`${O}/projects/${e}/installations`}function A(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function R(e,t){t=(await t.json()).error;return j.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function x({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function $(e){var t=await e();return 500<=t.status&&t.status<600?e():t}function B(t){return new Promise(e=>{setTimeout(e,t)})}const q=/^[cdef][\w-]{21}$/,H="";function K(e){return`${e.appName}!${e.appId}`}const V=new Map;function U(e,t){e=K(e);z(e,t),function(e,t){const r=(!G&&"BroadcastChannel"in self&&(G=new BroadcastChannel("[Firebase] FID Change"),G.onmessage=e=>{z(e.data.key,e.data.fid)}),G);r&&r.postMessage({key:e,fid:t}),0===V.size&&G&&(G.close(),G=null)}(e,t)}function z(e,t){e=V.get(e);if(e)for(const r of e)r(t)}let G=null;const W="firebase-installations-store";let J=null;function Y(){var t,e,r;return J=J||(t=e=>{0===e.oldVersion&&e.createObjectStore(W)},e=p(indexedDB,"open",["firebase-installations-database",1]),(r=e.request)&&(r.onupgradeneeded=function(e){t(new E(r.result,e.oldVersion,r.transaction))}),e.then(function(e){return new I(e)})),J}async function Z(e,t){var r=K(e);const i=await Y(),s=i.transaction(W,"readwrite"),n=s.objectStore(W);var a=await n.get(r);return await n.put(t,r),await s.complete,a&&a.fid===t.fid||U(e,t.fid),t}async function Q(e){e=K(e);const t=await Y(),r=t.transaction(W,"readwrite");await r.objectStore(W).delete(e),await r.complete}async function X(e,t){var r=K(e);const i=await Y(),s=i.transaction(W,"readwrite"),n=s.objectStore(W);var a=await n.get(r),t=t(a);return void 0===t?await n.delete(r):await n.put(t,r),await s.complete,!t||a&&a.fid===t.fid||U(e,t.fid),t}async function ee(t){let r;var e=await X(t,e=>{e=re(e||{fid:function(){try{const t=new Uint8Array(17),r=self.crypto||self.msCrypto;r.getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){const e=function(){const e=btoa(String.fromCharCode(...t));return e.replace(/\+/g,"-").replace(/\//g,"_")}();return e.substr(0,22)}(t);return q.test(e)?e:H}catch(e){return H}}(),registrationStatus:0}),e=function(e,t){if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:async function(e){let t=await te(e);for(;1===t.registrationStatus;)await B(100),t=await te(e);if(0!==t.registrationStatus)return t;var{installationEntry:r,registrationPromise:i}=await ee(e);return i||r}(e)}:{installationEntry:t};if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(j.create("app-offline"))};t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:async function(t,r){try{return Z(t,await async function(e,{fid:t}){const r=N(e);var i=x(e),e={fid:t,authVersion:F,appId:e.appId,sdkVersion:M};const s={method:"POST",headers:i,body:JSON.stringify(e)},n=await $(()=>fetch(r,s));if(n.ok)return{fid:(e=await n.json()).fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:A(e.authToken)};throw await R("Create Installation",n)}(t,r))}catch(e){throw D(e)&&409===e.customData.serverCode?await Q(t):await Z(t,{fid:r.fid,registrationStatus:0}),e}}(e,t)}}(t,e);return r=e.registrationPromise,e.installationEntry});return e.fid===H?{installationEntry:await r}:{installationEntry:e,registrationPromise:r}}function te(e){return X(e,e=>{if(!e)throw j.create("installation-not-found");return re(e)})}function re(e){return 1===e.registrationStatus&&e.registrationTime+P<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function ie({appConfig:e,platformLoggerProvider:t},r){const i=([s,n]=[e,r.fid],`${N(s)}/${n}/authTokens:generate`);var s,n;const a=function(e,{refreshToken:t}){const r=x(e);return r.append("Authorization",`${F} ${t}`),r}(e,r),o=t.getImmediate({optional:!0});o&&a.append("x-firebase-client",o.getPlatformInfoString());t={installation:{sdkVersion:M}};const c={method:"POST",headers:a,body:JSON.stringify(t)},u=await $(()=>fetch(i,c));if(u.ok)return A(await u.json());throw await R("Generate Auth Token",u)}async function se(n,a=!1){let o;var e=await X(n.appConfig,e=>{if(!ae(e))throw j.create("not-registered");var t,r,i,s=e.authToken;if(a||2!==(t=s).requestStatus||(r=t,(i=Date.now())<r.creationTime||r.creationTime+r.expiresIn<i+k)){if(1===s.requestStatus)return o=async function(e,t){let r=await ne(e.appConfig);for(;1===r.authToken.requestStatus;)await B(100),r=await ne(e.appConfig);var i=r.authToken;return 0===i.requestStatus?se(e,t):i}(n,a),e;if(!navigator.onLine)throw j.create("app-offline");return t=e,s={requestStatus:1,requestTime:Date.now()},s=Object.assign(Object.assign({},t),{authToken:s}),o=async function(e,t){try{var r=await ie(e,t),i=Object.assign(Object.assign({},t),{authToken:r});return await Z(e.appConfig,i),r}catch(i){throw!D(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode?(r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}),await Z(e.appConfig,r)):await Q(e.appConfig),i}}(n,s),s}return e});return o?await o:e.authToken}function ne(e){return X(e,e=>{if(!ae(e))throw j.create("not-registered");var t=e.authToken;return 1===t.requestStatus&&t.requestTime+P<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ae(e){return void 0!==e&&2===e.registrationStatus}function oe(e){return j.create("missing-app-config-values",{valueName:e})}const ce="installations";Pe._registerComponent(new r(ce,e=>{e=e.getProvider("app").getImmediate();return{app:e,appConfig:function(e){if(!e||!e.options)throw oe("App Configuration");if(!e.name)throw oe("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw oe(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(e),platformLoggerProvider:Pe._getProvider(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Pe._registerComponent(new r("installations-internal",e=>{e=e.getProvider("app").getImmediate();const t=Pe._getProvider(e,ce).getImmediate();return{getId:()=>async function(e){const{installationEntry:t,registrationPromise:r}=await ee(e.appConfig);return(r||se(e)).catch(console.error),t.fid}(t),getToken:e=>async function(e,t=!1){var r=e;return await((e=(await ee(e=r.appConfig)).registrationPromise)&&await e),(await se(r,t)).token}(t,e)}},"PRIVATE")),Pe.registerVersion(T,L),Pe.registerVersion(T,L,"esm2017");const ue="@firebase/remote-config";class le{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}const ge=new i("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),he=["1","true","t","yes","y","on"];class fe{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&0<=he.indexOf(this._value.toLowerCase())}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}async function de(e){const t=n(e);var[r,e]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(r&&r.config&&r.eTag&&r.eTag!==e)&&(await Promise.all([t._storageCache.setActiveConfig(r.config),t._storage.setActiveConfigEtag(r.eTag)]),!0)}function pe(e){const t=n(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}async function me(e){const t=n(e),r=new le;setTimeout(async()=>{r.abort()},t.settings.fetchTimeoutMillis);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:r}),await t._storageCache.setLastFetchStatus("success")}catch(r){e=(e=r)instanceof o&&-1!==e.code.indexOf("fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(e),r}}function we(e,t){const r=n(e);r._isInitializationComplete||r._logger.debug(`A value was requested for key "${t}" before SDK initialization completed.`+" Await on ensureInitialized if the intent was to get a previously activated value.");e=r._storageCache.getActiveConfig();return e&&void 0!==e[t]?new fe("remote",e[t]):r.defaultConfig&&void 0!==r.defaultConfig[t]?new fe("default",String(r.defaultConfig[t])):(r._logger.debug(`Returning static value for key "${t}".`+" Define a default or remote value if this is unintentional."),new fe("static"))}class _e{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-t,t=r<=e;return this.logger.debug("Config fetch cache check."+` Cache age millis: ${r}.`+` Cache max age millis (minimumFetchIntervalMillis setting): ${e}.`+` Is cache hit: ${t}.`),t}async fetch(e){var[t,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return r;e.eTag=r&&r.eTag,r=await this.client.fetch(e);const i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&i.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(i),r}}class ve{constructor(e,t,r,i,s,n){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=n}async fetch(r){var t,[e,i]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":r.eTag||"*"},i={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:i,app_id:this.appId,language_code:(t=navigator).languages&&t.languages[0]||t.language},i={method:"POST",headers:n,body:JSON.stringify(i)},s=fetch(s,i),i=new Promise((e,t)=>{r.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",t(e)})});let a;try{await Promise.race([s,i]),a=await s}catch(t){let e="fetch-client-network";throw"AbortError"===t.name&&(e="fetch-timeout"),ge.create(e,{originalErrorMessage:t.message})}let o=a.status;s=a.headers.get("ETag")||void 0;let c,u;if(200===a.status){let e;try{e=await a.json()}catch(t){throw ge.create("fetch-client-parse",{originalErrorMessage:t.message})}c=e.entries,u=e.state}if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(c={}),304!==o&&200!==o)throw ge.create("fetch-status",{httpStatus:o});return{status:o,eTag:s,config:c}}}class ye{constructor(e,t){this.client=e,this.storage=t}async fetch(e){var t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(t,{throttleEndTimeMillis:r,backoffCount:i}){var s=t.signal,n=r;await new Promise((e,t)=>{var r=Math.max(n-Date.now(),0);const i=setTimeout(e,r);s.addEventListener(()=>{clearTimeout(i),t(ge.create("fetch-throttle",{throttleEndTimeMillis:n}))})});try{var a=await this.client.fetch(t);return await this.storage.deleteThrottleMetadata(),a}catch(e){if(!function(e){if(e instanceof o&&e.customData){e=Number(e.customData.httpStatus);return 429===e||500===e||503===e||504===e}}(e))throw e;r={throttleEndTimeMillis:Date.now()+(r=2,a=1e3*Math.pow(r,i),r=Math.round(.5*a*(Math.random()-.5)*2),Math.min(144e5,a+r)),backoffCount:i+1};return await this.storage.setThrottleMetadata(r),this.attemptFetch(t,r)}}}class be{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Se(e,t){e=e.target.error||void 0;return ge.create(t,{originalErrorMessage:e&&e.message})}const Ce="app_namespace_store";class Ee{constructor(e,t,r,i=function(){return new Promise((t,r)=>{try{const e=indexedDB.open("firebase_remote_config",1);e.onerror=e=>{r(Se(e,"storage-open"))},e.onsuccess=e=>{t(e.target.result)},e.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Ce,{keyPath:"compositeKey"})}}catch(e){r(ge.create("storage-open",{originalErrorMessage:e}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(a){const o=await this.openDbPromise;return new Promise((t,r)=>{const e=o.transaction([Ce],"readonly"),i=e.objectStore(Ce);var s=this.createCompositeKey(a);try{const n=i.get(s);n.onerror=e=>{r(Se(e,"storage-get"))},n.onsuccess=e=>{e=e.target.result;t(e?e.value:void 0)}}catch(e){r(ge.create("storage-get",{originalErrorMessage:e&&e.message}))}})}async set(a,o){const c=await this.openDbPromise;return new Promise((e,t)=>{const r=c.transaction([Ce],"readwrite"),i=r.objectStore(Ce);var s=this.createCompositeKey(a);try{const n=i.put({compositeKey:s,value:o});n.onerror=e=>{t(Se(e,"storage-set"))},n.onsuccess=()=>{e()}}catch(e){t(ge.create("storage-set",{originalErrorMessage:e&&e.message}))}})}async delete(a){const o=await this.openDbPromise;return new Promise((e,t)=>{const r=o.transaction([Ce],"readwrite"),i=r.objectStore(Ce);var s=this.createCompositeKey(a);try{const n=i.delete(s);n.onerror=e=>{t(Se(e,"storage-delete"))},n.onsuccess=()=>{e()}}catch(e){t(ge.create("storage-delete",{originalErrorMessage:e&&e.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){var e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig();(e=await e)&&(this.lastFetchStatus=e),(t=await t)&&(this.lastSuccessfulFetchTimestampMillis=t),(r=await r)&&(this.activeConfig=r)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}Pe._registerComponent(new r("remote-config",function(e,{instanceIdentifier:t}){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ge.create("registration-window");if(!l())throw ge.create("indexed-db-unavailable");var{projectId:s,apiKey:n,appId:e}=r.options;if(!s)throw ge.create("registration-project-id");if(!n)throw ge.create("registration-api-key");if(!e)throw ge.create("registration-app-id");t=t||"firebase";const a=new Ee(e,r.name,t),o=new Ie(a),c=new f(ue);return c.logLevel=u.ERROR,e=new ve(i,Pe.SDK_VERSION,t,s,n,e),e=new ye(e,a),e=new _e(e,a,o,c),pe(e=new be(r,e,o,a,c)),e},"PUBLIC").setMultipleInstances(!0)),Pe.registerVersion(ue,"0.3.4"),Pe.registerVersion(ue,"0.3.4","esm2017");class Te{constructor(e,t){this.app=e,this._delegate=t}get defaultConfig(){return this._delegate.defaultConfig}set defaultConfig(e){this._delegate.defaultConfig=e}get fetchTimeMillis(){return this._delegate.fetchTimeMillis}get lastFetchStatus(){return this._delegate.lastFetchStatus}get settings(){return this._delegate.settings}set settings(e){this._delegate.settings=e}activate(){return de(this._delegate)}ensureInitialized(){return pe(this._delegate)}fetch(){return me(this._delegate)}fetchAndActivate(){return async function(e){return await me(e=n(e)),de(e)}(this._delegate)}getAll(){return function(r){const e=n(r);return[t={},i={}]=[e._storageCache.getActiveConfig(),e.defaultConfig],Object.keys(Object.assign(Object.assign({},t),i)).reduce((e,t)=>(e[t]=we(r,t),e),{});var t,i}(this._delegate)}getBoolean(e){return we(n(this._delegate),e).asBoolean()}getNumber(e){return we(n(this._delegate),e).asNumber()}getString(e){return we(n(this._delegate),e).asString()}getValue(e){return we(this._delegate,e)}setLogLevel(r){!function(e){const t=n(e);switch(r){case"debug":t._logger.logLevel=u.DEBUG;break;case"silent":t._logger.logLevel=u.SILENT;break;default:t._logger.logLevel=u.ERROR}}(this._delegate)}}(t=t.default).INTERNAL.registerComponent(new r("remoteConfig-compat",function(e,{instanceIdentifier:t}){var r=e.getProvider("app-compat").getImmediate(),t=e.getProvider("remote-config").getImmediate({identifier:t});return new Te(r,t)},"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:async function(){if(!l())return!1;try{return new Promise((t,r)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var e;r((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){r(e)}})}catch(e){return!1}}})),t.registerVersion("@firebase/remote-config-compat","0.1.5")}.apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-remote-config-compat.js - be sure to load firebase-app.js first.")}});